% jambrostyle.sty

\RequirePackage{amssymb}
\RequirePackage{amsfonts}
\RequirePackage{amsmath}
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{pgfpages}
\RequirePackage{comment}
\RequirePackage{graphicx}
\RequirePackage[labelsep=space,labelfont=bf,skip=1pt,sf,small]{caption}
\RequirePackage{booktabs}
\RequirePackage{bbding}
\RequirePackage[absolute,overlay]{textpos}
\RequirePackage{mathtools}
\RequirePackage{setspace}
\RequirePackage{pifont}
\RequirePackage{changepage}
\RequirePackage{moresize}
\RequirePackage{arevmath}
\RequirePackage[sfdefault,book]{FiraSans}
\renewcommand*\oldstylenums[1]{{\firaoldstyle #1}}
\RequirePackage{colortbl,xcolor}
\RequirePackage{tabularx}
\RequirePackage{eurosym}
\RequirePackage{tikz}
\RequirePackage{soul}
\RequirePackage{upgreek}
\RequirePackage{verbatim}
\RequirePackage{fancyvrb}
\RequirePackage{newverbs}
\RequirePackage{xkeyval}
\RequirePackage{listings}
\setlength{\marginparwidth}{2cm} 
\RequirePackage[bordercolor=white,backgroundcolor=script,linecolor=black]{todonotes}
\RequirePackage{mdframed}
\RequirePackage{courier}
\RequirePackage{fancyvrb}
\RequirePackage{framed}
\RequirePackage{hyperref}
\RequirePackage{natbib}


% Obsolete
%-----------------------------------------------------
%\RequirePackage{bm}
%\RequirePackage[default,scale=0.975]{opensans}	
%\RequirePackage[sfdefault]{cabin}
%\RequirePackage{nimbussans}
%\renewcommand*\familydefault{\sfdefault}

% Tikz
%-----------------------------------------------------
\usetikzlibrary{calc,decorations,patterns,arrows,decorations.pathmorphing,decorations.pathreplacing}
\makeatletter
\pgfset{
	/pgf/decoration/randomness/.initial=2,
	/pgf/decoration/wavelength/.initial=150
}
\pgfdeclaredecoration{sketch}{init}{
	\state{init}[width=0pt,next state=draw,persistent precomputation={\pgfmathsetmacro\pgf@lib@dec@sketch@t0}]{}%
	\state{draw}[width=\pgfdecorationsegmentlength,auto corner on length=\pgfdecorationsegmentlength,persistent precomputation={\pgfmathsetmacro\pgf@lib@dec@sketch@t{mod(\pgf@lib@dec@sketch@t + pow(\pgfkeysvalueof{/pgf/decoration/randomness},rand),\pgfkeysvalueof{/pgf/decoration/wavelength})}}]{\pgfmathparse{sin(2*\pgf@lib@dec@sketch@t*pi/\pgfkeysvalueof{/pgf/decoration/wavelength}r)}\pgfpathlineto{\pgfqpoint{\pgfdecorationsegmentlength}{\pgfmathresult\pgfdecorationsegmentamplitude}}}%
	\state{final}{}}
\tikzset{pencil/.style={gold,line width=0.25mm,decorate,decoration={sketch,segment length=0.5pt,amplitude=0.5pt}}}
\tikzset{nstyle/.style={inner sep=0pt,anchor=base}}
\tikzset{tstyle/.style={remember picture,baseline}}
\tikzset{tpstyle/.style={overlay, remember picture}}
\tikzset{arrow/.style={pencil,gold,line width=0.25mm,->}}
\makeatother
%\pgfmathsetseed{1}

% Hand writing font
%-----------------------------------------------------
\DeclareRobustCommand{\augiefamily}{%
	\fontfamily{augie}\fontseries{b}\fontshape{n}\selectfont}
\DeclareTextFontCommand{\textaugie}{\augiefamily}
\newcommand{\hand}[1]{\footnotesize{\textbf{\augiefamily #1}}}


% Fix soul parameters for highlighting
%-----------------------------------------------------
\makeatletter
\let\HL\hl
\renewcommand\hl{%
	\let\set@color\beamerorig@set@color
	\let\reset@color\beamerorig@reset@color
	\HL}
\makeatother

% Miniscule font
%-----------------------------------------------------
\makeatletter
\newcommand{\miniscule}{\@setfontsize\miniscule{4}{6}}% \tiny: 5/6
\makeatother

% New font size for tables 
%-----------------------------------------------------
\makeatletter
\newcommand*\tablesize{\@setfontsize\tablesize{7.25}{8.0}}
\makeatother

% Define notesize for notes to figures/tables
%-----------------------------------------------------
\let\notesize\footnotesize
\renewcommand{\arraystretch}{1.15}
\newcolumntype{Y}{>{\centering\arraybackslash\leavevmode}X}
\newcolumntype{S}{>{\centering\arraybackslash\leavevmode\color{gray!25}}X}

% Text color box
%-----------------------------------------------------
\newcommand{\NB}[1]{\todo[color=title!10,inline,caption={}]{#1}}          % example1
%\newcommand{\NB}[1]{\todo[color=gray!20,inline]{\augiefamily NOTE}: #1}} % example2
%\begin{tcolorbox}[colback=gray!10,colframe=gray!10]                      % example3
%text
%\end{tcolorbox}

% Show notes
%-----------------------------------------------------
\newenvironment{changemargin}[2]{\begin{list}{}{\setlength{\topsep}{0pt}\setlength{\leftmargin}{#1}\setlength{\rightmargin}{#2}\setlength{\listparindent}{\parindent}\setlength{\itemindent}{\parindent}\setlength{\parsep}{\parskip}}\item[]}{\end{list}}

% Beamer features
%-----------------------------------------------------
\useinnertheme{rounded}
\setbeamertemplate{navigation symbols}{}

% Colors
%-----------------------------------------------------
\definecolor{title}{HTML}{07285B}
\definecolor{text}{RGB}{0,0,0}
\definecolor{white}{RGB}{255,255,255}
\definecolor{math}{RGB}{0,0,150}
\definecolor{note}{RGB}{49,79,179}
\definecolor{light}{RGB}{70,130,180}
\definecolor{red}{RGB}{200,0,0}
\definecolor{gold}{RGB}{218,165,32}
\definecolor{green}{RGB}{0,179,0}
\definecolor{purple}{RGB}{150,40,160}
\definecolor{brick}{RGB}{203, 92, 65}
\definecolor{maroon}{RGB}{128,0,0}
\definecolor{script}{RGB}{255,248,225}
\definecolor{shadecolor}{rgb}{255,248,225}
\definecolor{matlabgreen}{RGB}{0,153,0}
\definecolor{matlabpurple}{RGB}{127,0,255}
\definecolor{matlabblue}{RGB}{0,42,252}
\definecolor{cmd}{gray}{0.99}
\definecolor{text}{RGB}{0,0,0} 

\definecolor{NordDarkBlack}{HTML}{2E3440}      % nord0
\definecolor{NordBlack}{HTML}{3B4252}          % nord1
\definecolor{NordMediumBlack}{HTML}{434C5e}    % nord2
\definecolor{NordBrightBlack}{HTML}{4C566A}    % nord3
\definecolor{NordWhite}{HTML}{D8DEE9}          % nord4
\definecolor{NordBrighterWhite}{HTML}{E5E9F0}  % nord5
\definecolor{NordBrightestWhite}{HTML}{ECEFF4} % nord6
\definecolor{NordCyan}{HTML}{8FBCBB}           % nord7
\definecolor{NordBrightCyan}{HTML}{88C0D0}     % nord8
\definecolor{NordBlue}{HTML}{81A1C1}           % nord9
\definecolor{NordBrightBlue}{HTML}{5E81AC}     % nord10
\definecolor{NordRed}{HTML}{BF616A}            % nord11
\definecolor{NordOrange}{HTML}{D08770}         % nord12
\definecolor{NordYellow}{HTML}{EBCB8B}         % nord13
\definecolor{NordGreen}{HTML}{A3BE8C}          % nord14
\definecolor{NordMagenta}{HTML}{B48EAD}        % nord15

% Night mode 
%-----------------------------------------------------
%\definecolor{title}{HTML}{81A1C1}
%\definecolor{light}{HTML}{81A1C1}
%\definecolor{text}{HTML}{D8DEE9} 
%\definecolor{white}{HTML}{2E3440} 
%\setbeamercolor{frametitle}{fg=text,bg=white}
%\setbeamercolor{math text}{fg=NordBlue}

% Beamer colors
%-----------------------------------------------------
\setbeamertemplate{section in head/foot shaded}[default][30]
\setbeamercolor{button}{fg=white,bg=title!75}
\setbeamercolor{titlelike}{fg=title,bg=white}
\setbeamercolor{frametitle}{fg=title,bg=white}
\setbeamercolor{math text}{fg=title!95}
\setbeamercolor{section in head/foot}{fg=white,bg=title}
\setbeamercolor{background canvas}{bg=white}
\setbeamercolor{normal text}{fg=text}
\setbeamerfont{section in head/foot}{series=\bfseries}

% Page setup
%-----------------------------------------------------
\defbeamertemplate*{headline}{shadow theme}{\leavevmode\hbox{}}
\setbeamercolor{author in head/foot}{fg=white,bg=title}
\setbeamercolor{title in head/foot}{fg=white,bg=title}

% Footline set up
%-----------------------------------------------------
% With all sections
\defbeamertemplate*{footline}{shadow theme}{\leavevmode\hbox{\begin{beamercolorbox}[wd=1.02\paperwidth, ht=2.5ex, dp=1.125ex, leftskip=.3cm plus1fil,rightskip=0.3cm]{author in head/foot}\insertsectionnavigationhorizontal{.90\textwidth}{}{} \hspace{.3cm} \hfill \# \insertframenumber\end{beamercolorbox}}}

% One section at the time
%\defbeamertemplate*{footline}{shadow theme}{\leavevmode\hbox{\begin{beamercolorbox}[wd=1.01\paperwidth, ht=2.5ex, dp=1.125ex, leftskip=.3cm plus1fil,rightskip=0.3cm]{author in head/foot}\insertshorttitle \insertsection \hspace{.3cm} \hfill \insertframenumber\end{beamercolorbox}}}

% Itemize set up
%-----------------------------------------------------
\defbeamertemplate{itemize item}{first}{\augiefamily*} 
\setbeamertemplate{itemize items}[first] %triangle or first
\defbeamertemplate{itemize subitem}{second}{{\ssmall\raisebox{.03cm}{\ding{81}}}}
\setbeamertemplate{itemize subitem}[second]
\defbeamertemplate{itemize subsubitem}{third}{{\ssmall\raisebox{.03cm}{\ding{59}}}}
\setbeamertemplate{itemize subsubitem}[third]
\setbeamertemplate{enumerate items}[default]
\setbeamercolor{itemize item}{fg=title!80}
\setbeamercolor{itemize subitem}{fg=title!80}
\setbeamercolor{itemize subsubitem}{fg=title!80}
\setbeamercolor{enumerate item}{fg=title!80}
\setbeamercolor{enumerate subitem}{fg=title!80}

% Slides margins
%----------------------------------------------------
\setbeamersize{text margin left=0.3cm,text margin right=0.1cm}

% Title slide set up
%----------------------------------------------------
\setbeamerfont{frametitle}{series=\bfseries,size={\fontsize{14}{15}}}
\setbeamerfont{title}{series=\bfseries,size={\fontsize{18}{19}}}
\setbeamerfont{frametitle}{series=\bfseries}

% Other stuff
%-----------------------------------------------------
\def\EE{\mathbb{E}}
\graphicspath{{./graphics/}{./v3dot0/Primer/graphics/}}
\def\newblock{\hskip .11em plus .33em minus .07em }
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%

% New stuff
%-----------------------------------------------------
\newenvironment{xframe}[1][]
{\begin{frame}[fragile,environment=xframe,#1]}
	{\end{frame}}
\lstset{basicstyle=\ttfamily\color{black!85}}
\let\code\lstinline
\presetkeys{todonotes}{inline}{}
\newcommand{\hlcode}[1]{{\sethlcolor{script!20}\hl{#1}}}
